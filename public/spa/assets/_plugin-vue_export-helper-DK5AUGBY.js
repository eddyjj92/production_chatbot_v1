import{U as b,k as x,Z as E,w as p,$ as P,g as w,o as g,C as m,a3 as S,ao as H,ap as L,r as C,t as k,H as T,h as Q}from"./index-C9i4HF6R.js";const{passive:y}=b,R=["both","horizontal","vertical"],D=x({name:"QScrollObserver",props:{axis:{type:String,validator:t=>R.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:E},emits:["scroll"],setup(t,{emit:f}){const e={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,i,c;p(()=>t.scrollTarget,()=>{n(),d()});function s(){o?.();const l=Math.max(0,H(i)),v=L(i),a={top:l-e.position.top,left:v-e.position.left};if(t.axis==="vertical"&&a.top===0||t.axis==="horizontal"&&a.left===0)return;const h=Math.abs(a.top)>=Math.abs(a.left)?a.top<0?"up":"down":a.left<0?"left":"right";e.position={top:l,left:v},e.directionChanged=e.direction!==h,e.delta=a,e.directionChanged===!0&&(e.direction=h,e.inflectionPoint=e.position),f("scroll",{...e})}function d(){i=P(c,t.scrollTarget),i.addEventListener("scroll",r,y),r(!0)}function n(){i!==void 0&&(i.removeEventListener("scroll",r,y),i=void 0)}function r(l){if(l===!0||t.debounce===0||t.debounce==="0")s();else if(o===null){const[v,a]=t.debounce?[setTimeout(s,t.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{a(v),o=null}}}const{proxy:u}=w();return p(()=>u.$q.lang.rtl,s),g(()=>{c=u.$el.parentNode,d()}),m(()=>{o?.(),n()}),Object.assign(u,{trigger:r,getPosition:()=>e}),S}});function _(){const t=C(!k.value);return t.value===!1&&g(()=>{t.value=!0}),{isHydrated:t}}const O=typeof ResizeObserver<"u",z=O===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},M=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:f}){let e=null,o,i={width:-1,height:-1};function c(n){n===!0||t.debounce===0||t.debounce==="0"?s():e===null&&(e=setTimeout(s,t.debounce))}function s(){if(e!==null&&(clearTimeout(e),e=null),o){const{offsetWidth:n,offsetHeight:r}=o;(n!==i.width||r!==i.height)&&(i={width:n,height:r},f("resize",i))}}const{proxy:d}=w();if(d.trigger=c,O===!0){let n;const r=u=>{o=d.$el.parentNode,o?(n=new ResizeObserver(c),n.observe(o),s()):u!==!0&&T(()=>{r(!0)})};return g(()=>{r()}),m(()=>{e!==null&&clearTimeout(e),n!==void 0&&(n.disconnect!==void 0?n.disconnect():o&&n.unobserve(o))}),S}else{let n=function(){e!==null&&(clearTimeout(e),e=null),l!==void 0&&(l.removeEventListener!==void 0&&l.removeEventListener("resize",c,b.passive),l=void 0)},r=function(){n(),o?.contentDocument&&(l=o.contentDocument.defaultView,l.addEventListener("resize",c,b.passive),s())};const{isHydrated:u}=_();let l;return g(()=>{T(()=>{o=d.$el,o&&r()})}),m(n),()=>{if(u.value===!0)return Q("object",{class:"q--avoid-card-border",style:z.style,tabindex:-1,type:"text/html",data:z.url,"aria-hidden":"true",onLoad:r})}}}}),N=(t,f)=>{const e=t.__vccOpts||t;for(const[o,i]of f)e[o]=i;return e};export{D as Q,N as _,M as a};
